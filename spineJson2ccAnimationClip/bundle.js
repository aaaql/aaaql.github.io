!function(e){var t={};function r(n){if(t[n])return t[n].exports;var a=t[n]={i:n,l:!1,exports:{}};return e[n].call(a.exports,a,a.exports,r),a.l=!0,a.exports}r.m=e,r.c=t,r.d=function(e,t,n){r.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:n})},r.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},r.t=function(e,t){if(1&t&&(e=r(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var n=Object.create(null);if(r.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var a in e)r.d(n,a,function(t){return e[t]}.bind(null,a));return n},r.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return r.d(t,"a",t),t},r.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},r.p="",r(r.s=0)}([function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=r(1);function a(e){return e.map((function(e){return"string"==typeof e.result&&n.default(JSON.parse(e.result))}))}function o(e){var t=e.name,r=e.type;return new Promise((function(n,a){var o=new FileReader;switch(e.type){case"image/png":case"image/jpg":o.readAsArrayBuffer(e),o.onload=function(a){var o=new Image,i=window.URL.createObjectURL(new Blob([a.target.result],{type:e.type}));o.src=i,o.onload=function(){n({name:t,type:r,result:o})}};break;default:o.readAsText(e),o.onload=function(e){var a={name:t,type:r,result:e.target.result};n(a)}}}))}t.handleDroped=a;var i=document.querySelector("#drop_zone");i.ondrop=function(e){e.preventDefault(),Promise.all(Array.from(e.dataTransfer.files).map(o)).then((function(e){var t=a(e),r=[];t.forEach((function(e){e.forEach((function(e){if(e){var t=JSON.stringify(e.clip,null,"  ");r.push("\n<div class='row1'>\n    <div class='col1'><pre>"+e.clip._name+"\n"+JSON.stringify(e.events,null,"  ")+"</pre></div>\n    <div class='col1'><pre>"+e.msgs.join("<br>")+"</pre></div>\n    <div class='col1'><pre>"+t+"</pre></div>\n</div>\n")}}))})),document.write("\n        <style>\n        .row1 {display: flex;flex-direction: row;height:500px;}\n        .col1 {border: groove;padding: 5px;overflow: scroll;flex:1}\n        </style>\n        <div>"+r.join("")+"</div>"),document.body.addEventListener("dblclick",(function(e){if(e&&e.target&&e.target instanceof HTMLPreElement){var t=window.getSelection(),r=document.createRange();r.selectNodeContents(e.target),t.removeAllRanges(),t.addRange(r),e.stopPropagation()}}))}))},i.ondragover=function(e){e.preventDefault()}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=["rotation","scale","scaleX","scaleY","opacity","x","y"],a="fps",o=":",i="_";t.default=function(e){return Object.keys(e.animations).map((function(t){var r=e.animations[t].events;if(r&&r.length){var u,l={__type__:"cc.AnimationClip",_name:t,_objFlags:0,_native:0,_duration:0,sample:24,speed:1,wrapMode:0,curveData:{props:{}},events:[]},s=r.map((function(e){return e.time})),c=[];return r.forEach((function(e){var t=e.time,r=e.name.split(i);if(r.length%2==0)for(var s=0;s<r.length;s+=2){var p=r[s].split(o),f=p[0],d=p[1];d||(d=f,f="");var v=r[s+1];if(d===a)u=Number(v);else if(-1!==n.indexOf(d)){var m=l.curveData.props;if(f&&(l.curveData.paths||(l.curveData.paths={}),l.curveData.paths[f]||(l.curveData.paths[f]={props:{}}),m=l.curveData.paths[f].props),m[d]||(m[d]=[]),"scale"===d)m.scale.push({frame:t,value:{__type__:"cc.Vec2",x:Number(v)/100,y:Number(v)/100}});else if("scaleX"===d||"scaleY"===d)m[d].push({frame:t,value:Number(v)/100});else if("opacity"===d){var y=Number(v)/100*255;(y=Number(y.toFixed(0)))<0&&(y=0),y>255&&(y=255),m.opacity.push({frame:t,value:y})}else m[d].push({frame:t,value:Number(v)})}else c.push("未支援 '"+d)}else c.push("未成對 '"+e.name)})),l.sample=u,l._duration=Math.max.apply(null,s),{events:r,clip:l,msgs:c}}}))}}]);